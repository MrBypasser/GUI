-- Initialize the GUI and its components
local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "Executor"
gui.Parent = player.PlayerGui

-- Main Frame for the Executor GUI
local executorFrame = Instance.new("Frame")
executorFrame.Size = UDim2.new(0, 400, 0, 600)  -- Fixed size, no resizing allowed
executorFrame.Position = UDim2.new(0, 50, 0, 50)
executorFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
executorFrame.BorderSizePixel = 0
executorFrame.Parent = gui

-- Add rounded corners to the executor frame
local frameCorner = Instance.new("UICorner")
frameCorner.CornerRadius = UDim.new(0, 20)
frameCorner.Parent = executorFrame

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 50)
titleBar.BackgroundColor3 = Color3.fromRGB(52, 152, 219)
titleBar.BorderSizePixel = 0
titleBar.Parent = executorFrame

local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 1, 0)
titleLabel.Text = "Frogie Executor"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.BackgroundTransparency = 1
titleLabel.Parent = titleBar

-- Create a frame for the tabs
local tabFrame = Instance.new("Frame")
tabFrame.Size = UDim2.new(1, 0, 0, 40)
tabFrame.Position = UDim2.new(0, 0, 0, 50)
tabFrame.BackgroundColor3 = Color3.fromRGB(41, 128, 185)
tabFrame.Parent = executorFrame

-- Tab Buttons
local tabButtons = {}
local tabContents = {}

local function createTab(name, index)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0, 90, 0, 30)
    button.Position = UDim2.new(0, (index - 1) * 100, 0, 5)
    button.BackgroundColor3 = Color3.fromRGB(52, 152, 219)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = name
    button.Font = Enum.Font.SourceSansBold
    button.TextScaled = true
    button.BorderSizePixel = 0
    button.Parent = tabFrame

    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 10)
    buttonCorner.Parent = button

    button.MouseButton1Click:Connect(function()
        for i, content in ipairs(tabContents) do
            content.Visible = i == index
        end
    end)

    table.insert(tabButtons, button)
end

-- Create Tab Content Frame
local function createTabContent(index, contentColor)
    local content = Instance.new("Frame")
    content.Size = UDim2.new(1, 0, 1, -90)
    content.Position = UDim2.new(0, 0, 0, 90)
    content.BackgroundColor3 = contentColor
    content.Visible = index == 1
    content.BorderSizePixel = 0
    content.Parent = executorFrame

    local contentCorner = Instance.new("UICorner")
    contentCorner.CornerRadius = UDim.new(0, 10)
    contentCorner.Parent = content

    table.insert(tabContents, content)
end

-- Create Tabs
createTab("Home", 1)
createTab("Executor", 2)
createTab("Settings", 3)
createTab("Eject", 4)  -- Eject tab

-- Create Tab Contents
createTabContent(1, Color3.fromRGB(52, 152, 219))  -- Blue Content for Home
createTabContent(2, Color3.fromRGB(46, 204, 113))  -- Green Content for Executor
createTabContent(3, Color3.fromRGB(241, 196, 15))  -- Yellow Content for Settings
createTabContent(4, Color3.fromRGB(231, 76, 60))   -- Red Content for Eject

-- Home Page Content
local homeContent = tabContents[1]
local homeLabel = Instance.new("TextLabel")
homeLabel.Size = UDim2.new(0.8, 0, 0.4, 0)
homeLabel.Position = UDim2.new(0.1, 0, 0.3, 0)
homeLabel.BackgroundTransparency = 1
homeLabel.Text = "Welcome to Frogie Executor! FYI this is a test of my abilites"
homeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
homeLabel.TextScaled = true
homeLabel.Font = Enum.Font.SourceSansBold
homeLabel.Parent = homeContent

-- Executor Content (for script execution)
local executorContent = tabContents[2]
local executorPrompt = Instance.new("TextBox")
executorPrompt.Size = UDim2.new(0, 350, 0, 80)  -- Larger TextBox
executorPrompt.Position = UDim2.new(0.5, -175, 0.3, 0)
executorPrompt.PlaceholderText = "Enter Script to Execute"
executorPrompt.Text = ""
executorPrompt.TextScaled = true
executorPrompt.Font = Enum.Font.SourceSans
executorPrompt.BackgroundColor3 = Color3.fromRGB(41, 128, 185)
executorPrompt.TextColor3 = Color3.fromRGB(255, 255, 255)
executorPrompt.BorderSizePixel = 0
executorPrompt.Parent = executorContent

-- Execute Button
local executeButton = Instance.new("TextButton")
executeButton.Size = UDim2.new(0, 350, 0, 40)
executeButton.Position = UDim2.new(0.5, -175, 0.5, 0)
executeButton.Text = "Execute"
executeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
executeButton.Font = Enum.Font.SourceSansBold
executeButton.BackgroundColor3 = Color3.fromRGB(52, 152, 219)
executeButton.TextScaled = true
executeButton.BorderSizePixel = 0
executeButton.Parent = executorContent

-- Function to execute the script entered by the user
executeButton.MouseButton1Click:Connect(function()
    local command = executorPrompt.Text
    if command and command ~= "" then
        local success, result = pcall(function()
            loadstring(command)()
        end)
        if not success then
            print("Error executing command: " .. result)
        end
    end
end)

-- Settings Page Content
local settingsContent = tabContents[3]
local settingsLabel = Instance.new("TextLabel")
settingsLabel.Size = UDim2.new(0.8, 0, 0.2, 0)
settingsLabel.Position = UDim2.new(0.1, 0, 0.1, 0)
settingsLabel.BackgroundTransparency = 1
settingsLabel.Text = "Settings"
settingsLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
settingsLabel.TextScaled = true
settingsLabel.Font = Enum.Font.SourceSansBold
settingsLabel.Parent = settingsContent

-- Change Color Button
local colorButton = Instance.new("TextButton")
colorButton.Size = UDim2.new(0.8, 0, 0, 50)
colorButton.Position = UDim2.new(0.1, 0, 0.3, 0)
colorButton.Text = "Change GUI Color"
colorButton.TextColor3 = Color3.fromRGB(0, 0, 0)
colorButton.TextScaled = true
colorButton.BackgroundColor3 = Color3.fromRGB(52, 152, 219)
colorButton.Font = Enum.Font.SourceSans
colorButton.BorderSizePixel = 0
colorButton.Parent = settingsContent

-- Size Changer Button
local sizeButton = Instance.new("TextButton")
sizeButton.Size = UDim2.new(0.8, 0, 0, 50)
sizeButton.Position = UDim2.new(0.1, 0, 0.5, 0)
sizeButton.Text = "Change GUI Size"
sizeButton.TextColor3 = Color3.fromRGB(0, 0, 0)
sizeButton.TextScaled = true
sizeButton.BackgroundColor3 = Color3.fromRGB(52, 152, 219)
sizeButton.Font = Enum.Font.SourceSans
sizeButton.BorderSizePixel = 0
sizeButton.Parent = settingsContent

-- Keybind Changer Button
local keybindButton = Instance.new("TextButton")
keybindButton.Size = UDim2.new(0.8, 0, 0, 50)
keybindButton.Position = UDim2.new(0.1, 0, 0.7, 0)
keybindButton.Text = "Change Keybind (Default K)"
keybindButton.TextColor3 = Color3.fromRGB(0, 0, 0)
keybindButton.TextScaled = true
keybindButton.BackgroundColor3 = Color3.fromRGB(52, 152, 219)
keybindButton.Font = Enum.Font.SourceSans
keybindButton.BorderSizePixel = 0
keybindButton.Parent = settingsContent

-- Eject Tab Content (Delete GUI)
local ejectContent = tabContents[4]
local ejectButton = Instance.new("TextButton")
ejectButton.Size = UDim2.new(0.8, 0, 0, 50)
ejectButton.Position = UDim2.new(0.1, 0, 0.3, 0)
ejectButton.Text = "Eject GUI"
ejectButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ejectButton.TextScaled = true
ejectButton.BackgroundColor3 = Color3.fromRGB(231, 76, 60)
ejectButton.Font = Enum.Font.SourceSans
ejectButton.BorderSizePixel = 0
ejectButton.Parent = ejectContent

ejectButton.MouseButton1Click:Connect(function()
    gui:Destroy()  -- Deletes the GUI when the eject button is clicked
end)

-- Change the color of the entire GUI
colorButton.MouseButton1Click:Connect(function()
    local newColor = Color3.fromRGB(math.random(0, 255), math.random(0, 255), math.random(0, 255))
    executorFrame.BackgroundColor3 = newColor
    titleBar.BackgroundColor3 = newColor
    tabFrame.BackgroundColor3 = newColor
    settingsContent.BackgroundColor3 = newColor
    homeContent.BackgroundColor3 = newColor
    executorContent.BackgroundColor3 = newColor
    ejectContent.BackgroundColor3 = newColor
end)

-- Change the size of the GUI
local function changeSize(newWidth, newHeight)
    executorFrame.Size = UDim2.new(0, newWidth, 0, newHeight)
end

sizeButton.MouseButton1Click:Connect(function()
    -- Example size change (you can add a more detailed size picker)
    changeSize(500, 700)  -- Increase size
end)

-- Keybind Change Logic
local currentKeybind = Enum.KeyCode.K

keybindButton.MouseButton1Click:Connect(function()
    -- Logic to change the keybind, here we'll just toggle it to `L` for example
    if currentKeybind == Enum.KeyCode.K then
        currentKeybind = Enum.KeyCode.L
        keybindButton.Text = "Change Keybind (Current: L)"
    else
        currentKeybind = Enum.KeyCode.K
        keybindButton.Text = "Change Keybind (Current: K)"
    end
end)

-- Keybind to open/close the GUI
game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessedEvent)
    if gameProcessedEvent then return end
    if input.UserInputType == Enum.UserInputType.Keyboard then
        if input.KeyCode == currentKeybind then
            gui.Enabled = not gui.Enabled
        end
    end
end)

-- Make the GUI draggable
local dragging = false
local dragInput, dragStart, startPos

executorFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = executorFrame.Position
    end
end)

executorFrame.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        executorFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

executorFrame.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = false
    end
end)

-- Lock the size (prevent resizing)
executorFrame.Size = UDim2.new(0, 400, 0, 600)  -- Fixed size
